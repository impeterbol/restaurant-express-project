<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- adding bootstrap -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
   <!-- linking font awesome -->
    <script src="https://kit.fontawesome.com/8bee116590.js" crossorigin="anonymous"></script>


    <title>Peter B - Corona Virus tracker</title>

    <!-- Latest compiled and minified CSS & JS -->
  <link rel="stylesheet"
  href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
<link rel="stylesheet"
  href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<script src="https://code.jquery.com/jquery.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>

</head>
<body>

    <div class="jumbotron">
        <h1 class="display-4"><i class="fas fa-fire"></i>Corona virus latest stats</h1>
        <hr class="my-4">
        <p>Data is updated daily by systems.jhu.edu/</p>
        <p class="lead">
          <a class="btn btn-danger btn-lg" id='submit' href="#" role="button">Show stats</a>

          
        </p>
      </div>

        <!-- This row will handle all the data the current reservations -->
    <div class="row">
        <div class="col-sm-12">
          <br>
  
          <div class="card">
  
            <!-- to add data about previous day -->
            <div class="card-header">
              <strong>
                Today <span class ="emp" id ="output"></span></strong>
            </div>
  
            <div class="card-body emp" id="today-section">
            </div>
          </div>
        </div>
      </div>


      <div class="row">
        <div class="col-sm-12">
          <br>
  
          <div class="card">
  
            <!-- card Heading for the yesterday list  -->
            <div class="card-header">
              <strong>
                Yesterday</strong>
            </div>
  
           
            <div class="card-body emp" id="yesterday">
            </div>
          </div>
        </div>
      </div>
    
      <!-- end of card -->

      <script type="text/javascript">
    $("#submit").on("click", function() {
      $("#output").empty();
      
      $.get("/api/tableList/", function(data) {
        var curReserved = data.length;
        $("#curReservedSpan").append(" " + curReserved);

        if (curReserved<5) {
          for (var i=0;i<data.length;i++){
           var newObj =  `Name: `+ data[i].customerName + `; Phone: `+ data[i].phoneNumber + `; Email: ` + data[i].customerEmail + `; Unique ID : ` + data[i].customerID;
           $("#reservations-section").append("<hr>" + newObj);
          }
          
        } 
         
       else  {
        for (var i=0;i<5;i++){
           var newObj =  `Name: `+ data[i].customerName + `; Phone: `+ data[i].phoneNumber + `; Email: ` + data[i].customerEmail + `; Unique ID : ` + data[i].customerID;
           $("#reservations-section").append("<hr>" + newObj);
          }
                for (var i=5;i<data.length;i++){
                var newObj =  `Name: `+ data[i].customerName + `; Phone: `+ data[i].phoneNumber + `; Email: ` + data[i].customerEmail + `; Unique ID : ` + data[i].customerID;
                $("#waitinglist-section").append("<hr>" + newObj);
                }
          }

      
      });
    });

  </script>
 </body>
</html>